# Coins selection for changeless transactions

[Wasabi Wallet](https://github.com/zkSNACKs/WalletWasabi/)2.0 coinjoins decompose the Alice's total registered amount in highly composable unequal outputs amounts. That means that many users will have their wallets with a combination of mixed and unmixed coins.

The hypothesis is that, given the composability of the standard denominations used in WW2.0, some variant of the [Branch and bound]() algorithm can achieve a higher success rate in finding coin sets that avoid change. 

Here we have a little tool to simulate the coin selection success rate depending on the wallet composition (# of coins, coins values and size tolerance).

### Wallet with unmixed coins only

```bash
$ dotnet run -- --inc-wallet-size 20 --inc-tolerance 2000 --random-denoms 1 --output rnd-denom-wallet.png | gnuplot
```

This will crete the following `rnd-denom-wallet.png` image file:

![Small random denominations wallet](https://raw.githubusercontent.com/lontivero/branchandbound/master/images/rnd-denom-wallet.png)


A more detailed chart is generated by default. Just try:

```bash
$ dotnet run -- --random-denoms 1 --output rnd-denom-wallet-big.png | gnuplot
```
![Big random denominations wallet](https://raw.githubusercontent.com/lontivero/branchandbound/master/images/rnd-denom-wallet-big.png)


### Wallet with mixed coins only

```bash
$ dotnet run -- --inc-wallet-size 20 --inc-tolerance 2000 --output std-denom-wallet.png | gnuplot
```

This will crete the following `std-denom-wallet.png` image file:

![Small standard denominations wallet](https://raw.githubusercontent.com/lontivero/branchandbound/master/images/std-denom-wallet.png)

A more detailed chart is generated by default. Just try:

```bash
$ dotnet run -- --random-denoms 1 --output std-denom-wallet-big.png | gnuplot
```

![Big standard denominations wallet](https://raw.githubusercontent.com/lontivero/branchandbound/master/images/std-denom-wallet-big.png)



